<!DOCTYPE html>
<html>

<head>
  <title>Reproductor Corregido</title>
  <style>
    #castButton {
      background: #ff0000;
      color: white;
      padding: 15px;
      cursor: pointer;
    }
  </style>
  <!-- Carga API de YouTube y Cast -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
</head>

<body>
  <button id="castButton" onclick="startCasting()">TRANSMITIR AL TV ??</button>
  <div id="player"></div>

  <script>
    const videoId = 'dQw4w9WgXcQ';
    let player;

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '360',
        width: '640',
        videoId: videoId,
        playerVars: {
          enablejsapi: 1,
          origin: 'https://radiant-meringue-54f2df.netlify.app'
        }
      });
    }

    function startCasting() {
      if (window.chrome?.cast?.isAvailable) {
        player.cast.castVideo();
      } else {
        alert("Habilita Google Cast en Chrome o usa modo normal (no incï¿½gnito).");
      }
    }
  </script>
</body>

</html>